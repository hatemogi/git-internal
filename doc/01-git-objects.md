# Git 내부 구조를 알아보자 (1)

https://git-scm.com/book/en/v2/Git-Internals-Git-Objects

또 여러편의 글과 함께 프로젝트를 진행할 것 같으니, 억지스럽게나마 합리화를 해보자. 왜 Git 내부 구조를 파악하는 프로젝트를 시작하는가?

## 합리화?

Git을 처음 접하고, 그 기술적인 아름다움에 매료됐다. 딱딱하고 건조해 보이는, 아니 실상 별로 눈에 보이는 것이 없는 소프트웨어도 군데군데 아름다운 모습이 있는데, Git의 접근과 구현이 그러하다.

아름다운 대상은 자세히 관찰해서 더 알고 싶은 법. 그 안에 돌아가는 일들을 알고싶다. 이번 프로젝트도 실용적으로는 큰 결과물 없는 내용일지도 모르겠지만, 난 클로저를 "학습중"이니까, 클로저로 이거저거 연습해보는 셈 칠 수 있다.

"클로저로 Git의 내부를 어루만지는 코드를 작성해 봄으로써 그 아름다움을 몸소 느껴보자"는 말씀.

## 합리화!

감성적인 이유는 됐고, 그래서 어디에 쓸 수 있을까? Git의 저장소를 다룰 수 있게 되면, 우선 가장 상식적으로는 개발자 개인이나 팀이 공용 저장소로 쓸 수 있는 서비스를 만들 수 있다. 이미 깃헙과 빗버킷이 있는 마당에 또 무슨 저장소 서비스를 만드냐는 문제가 남긴하지만, 왠지 만들고 싶은걸?

그리고, 소스코드 말고도, 간단한 웹문서의 데이터베이스로 쓸 수도 있다. 텍스트 문서를 기반으로 하는 어떤 웹서비스에든 쓸 수 있다. 뒷단에 문서를 저장하는데 Git 저장소를 쓴다면, 텍스트를 편집하며 이력을 관리하고 차잇점을 확인하거나, 몇 명이서 공동 작업을 하기에도 좋을 것 같다. GitBook같은 시스템이 Git 저장소를 테이터베이스 삼아 책을 쓰는 것 아닌가?

역시 합리화가 충분하지 못한 것 같지만, 일단 더 파보자. 파보다 보면 보물이 나올지도?

## Git Objects

클로저는 Java 라이브러리를 그대로 가져다 쓸 수 있기에, JGit이라는 훌륭하고 탄탄한 Git 제어용 라이브러리를 쓰면 관련한 모든 일이든 할 수 있다. 그런데, Git 내부에 대해 아직 익숙하지 않기 때문인지, API 문서를 봐도 잘 이해가 되지 않고, 어떤 메소드를 어떻게 불러야할지 잘 모르겠더라.

오래전에 공식 Git 사이트에 있는 문서로 Git 내부 구조를 공부한 적이 있어, 어렴풋이 어떻게 저장되는지 감은 잡고 있지만, 아직 뿌연 안개 속에 있는 기분이다. 이참에 다시 문서를 파헤쳐보며 연습용 코드를 작성해 봐야겠다. 그리고 이왕하는거, JGit을 불러다 쓰는 것도 좋지만, 그냥 순수(!) 클로저로 작성해보면 재밌겠다는 욕심까지 든다.

Git은 content-addressable 파일시스템(파일 내용을 주소로 활용)이다. Git의 내부는 그저 단순한 키-값 저장소일 뿐이며, 사실상 어떤 종류의 데이터도 저장할 수 있다. Git에 데이터를 저장하면, 내용에 해당하는 키값을 돌려주며, 이 키를 써서 나중에 해당 데이터를 언제라도 찾아올 수 있다.

## 공부하는 방법


## ztellman/gloss
